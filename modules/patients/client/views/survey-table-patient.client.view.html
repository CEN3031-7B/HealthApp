<!-- Sample table of data: Add/Update/Delete on survey page;
  functionality to be applied to nested arrays ( Patient> Surgeries> surgery1,surgery2,surgery3 ) -->
<div class="container" ng-controller="PatientsController" ng-init="find()">
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-10">
      <div class="table-responsive">
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>Delete Entry</th>
              <th>Name</th>
              <th>Content</th>
              <th>Add or Update Entry</th>
            </tr>
          </thead>
          <tbody>
            <!-- Table body: Displays info in database. -->
            <tr ng-repeat="patient in patients" ng-show="authentication.user._id == patient.user._id">
              <td>
                <!-- Delete button -->
                <a class="btn btn-danger btn-sm" ng-disabled="editEnabled[$index]" ng-click="deleteEntry($index)">
                  <i class="glyphicon glyphicon-trash"></i>
                </a>
              </td>
              <td> <!-- Name: toggles between text and input box -->
                <span ng-bind="patient.name" ng-show="!editEnabled[$index]"></span>
                <input type="text" ng-model="patient.name" ng-show="editEnabled[$index]">
              </td>
              <td> <!-- Patient's condition: toggles between text and input box -->
                <span ng-bind="patient.content" ng-show="!editEnabled[$index]"></span>
                <input type="text" ng-model="patient.content" ng-show="editEnabled[$index]">
              </td>
              <td> <!-- Edit/Update/Cancel buttons -->
                <button class="btn btn-default btn-sm pull-right" ng-show="!editEnabled[$index]" ng-click="editEntry($index)">Edit</button>
                <button class="btn btn-default btn-sm pull-right" ng-show="editEnabled[$index]" ng-click="updateEntry($index)">Update</button>
                <button class="btn btn-danger btn-sm pull-right" ng-show="editEnabled[$index]" ng-click="cancel($index)">Cancel</button>
              </td>
            </tr> <!-- /.Displays info in database -->
            <!-- Add new entry to database -->
            <tr>
              <td></td>
              <td>
                <!-- Name input box -->
                <input type="text" placeholder="Name" ng-model="name">
              </td>
              <td>
                <!-- Condition input box -->
                <input type="text" placeholder="Condition" ng-model="content">
              </td>
              <td>
                <button class="btn btn-primary btn-sm pull-right" ng-click="addEntry()">Add</button>
              </td>
            </tr> <!-- /.Add new entry to database -->
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>